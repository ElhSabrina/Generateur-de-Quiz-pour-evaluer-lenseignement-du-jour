//- views/student/dashboard.pug
extends ../layout

block content
  h1 Student dashboard

  .grid-two
    //- LEFT: Join a quiz
    .card
      h2 Join a quiz
      if error
        .error-message= error

      form(method="post" action="/student/join")
        label(for="code") Quiz code
        input(type="text" name="code" placeholder="Example: 482195" required)
        button.btn-primary(type="submit") Join

    //- RIGHT: Recent attempts
    .card
      h2 Your recent attempts

      if attempts && attempts.length
        table.table
          thead
            tr
              th Quiz
              th Subject
              th Code
              th Score
              th Date
              th Result
          tbody
            each a in attempts
              tr
                td= a.title
                td= a.subject_name
                td
                  span.code-badge= a.code
                td= a.score
                td= a.created_at.toISOString().slice(0, 10)
                td
                  a.btn-small(href=`/student/quiz/${a.code}/result`) View correction
      else
        p.small-text You have not taken any quiz yet.
